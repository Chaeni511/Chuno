{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'OauthView',\n  methods: {\n    async start() {\n      const code = new URL(window.location.href).searchParams.get('code');\n      // const code = this.$route.params.code\n      // console.log(code)\n      var {\n        data\n      } = await axios.post(\"http://3.34.138.191:9997/kakao/login\", code, {\n        headers: {\n          'Content-Type': 'text/plain'\n        }\n      });\n      console.log(data);\n      // console.log(data.result);\n      if (data.result == \"not_member\") {\n        console.log(data);\n        // 아직 우리 서비스에 가입하지 않았어요 회원 가입 페이지로 넘어가요 뷰에서는 패러미터를 안고 라우터뷰를 이동하면 될거에요\n        this.$router.push({\n          name: 'Register',\n          params: {\n            email: data.email\n          }\n        });\n        // window.location.href=\"register/\" + data.email;\n      } else if (data.result == \"member\") {\n        // 우리 서비스의 멤버에요 세션스토리지에 토큰을 저장하고 홈페이지로 이동해요\n        sessionStorage.setItem(\"token\", data.token);\n        this.$router.push({\n          name: 'Home'\n        });\n      }\n    }\n  },\n  created() {\n    this.start();\n  }\n};","map":{"version":3,"mappings":";AAaA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,OAAO,EAAE;IACP,MAAMC,KAAK,GAAG;MACZ,MAAMC,IAAG,GAAI,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;MACnE;MACA;MACA,IAAI;QAAEC;MAAK,IAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,sCAAsC,EAAER,IAAI,EAAE;QAACS,OAAO,EAAE;UAAC,cAAc,EAAE;QAAY;MAAC,CAAC,CAAC;MACxHC,OAAO,CAACC,GAAG,CAACJ,IAAI;MAChB;MACA,IAAIA,IAAI,CAACK,MAAK,IAAK,YAAY,EAAE;QAC7BF,OAAO,CAACC,GAAG,CAACJ,IAAI;QAChB;QACA,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC;UAAEjB,IAAI,EAAE,UAAU;UAAEkB,MAAM,EAAE;YAAEC,KAAK,EAAET,IAAI,CAACS;UAAM;QAAE,CAAC;QACrE;MACJ,OAAO,IAAIT,IAAI,CAACK,MAAK,IAAK,QAAQ,EAAE;QAChC;QACAK,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEX,IAAI,CAACY,KAAK,CAAC;QAC3C,IAAI,CAACN,OAAO,CAACC,IAAI,CAAC;UAAEjB,IAAI,EAAE;QAAO,CAAC;MACtC;IACF;EACF,CAAC;EACDuB,OAAO,GAAG;IACR,IAAI,CAACrB,KAAK,EAAC;EACb;AACF","names":["axios","name","methods","start","code","URL","window","location","href","searchParams","get","data","post","headers","console","log","result","$router","push","params","email","sessionStorage","setItem","token","created"],"sourceRoot":"","sources":["C:\\Users\\SSAFY\\Desktop\\git archive\\S08P12D208\\frontend\\src\\views\\accounts\\OauthView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>Document</title>\r\n    </head>\r\n    <p>열심히 로그인 중이에요!</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'OauthView',\r\n  methods: {\r\n    async start() {\r\n      const code = new URL(window.location.href).searchParams.get('code');\r\n      // const code = this.$route.params.code\r\n      // console.log(code)\r\n      var { data } = await axios.post(\"http://3.34.138.191:9997/kakao/login\", code, {headers: {'Content-Type': 'text/plain'}});\r\n      console.log(data)\r\n      // console.log(data.result);\r\n      if (data.result == \"not_member\") {\r\n          console.log(data)\r\n          // 아직 우리 서비스에 가입하지 않았어요 회원 가입 페이지로 넘어가요 뷰에서는 패러미터를 안고 라우터뷰를 이동하면 될거에요\r\n          this.$router.push({ name: 'Register', params: { email: data.email } })\r\n          // window.location.href=\"register/\" + data.email;\r\n      } else if (data.result == \"member\") {\r\n          // 우리 서비스의 멤버에요 세션스토리지에 토큰을 저장하고 홈페이지로 이동해요\r\n          sessionStorage.setItem(\"token\", data.token);\r\n          this.$router.push({ name: 'Home' })\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.start()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}