{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      user_email: '',\n      user_nickname: ''\n    };\n  },\n  methods: {\n    login() {\n      alert(\"로그인\");\n      const REST_API_KEY = \"9733352823239497d6928853e1e59954\";\n      const REDIRECT_URI = \"http://localhost:8080/oauth\";\n      window.location.href = `https://kauth.kakao.com/oauth/authorize?client_id=${REST_API_KEY}&redirect_uri=${REDIRECT_URI}&response_type=code`;\n    },\n    async start() {\n      const token = sessionStorage.getItem(\"token\");\n      if (token != null) {\n        var {\n          data\n        } = await axios.post(\"http://3.34.138.191:9997/kakao/tokenConfirm\", token, {\n          headers: {\n            'Content-Type': 'text/plain'\n          }\n        });\n        if (data.validation == \"not_valid\") {\n          document.getElementById(\"islogin\").value = \"로그인X\";\n        } else {\n          document.getElementById(\"islogin\").value = data.nickname + \"님 로그인중\";\n        }\n      }\n    }\n  },\n  created() {\n    this.start();\n  }\n};","map":{"version":3,"mappings":"AAiBA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,aAAa,EAAE;IACjB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAK,GAAG;MACNC,KAAK,CAAC,KAAK;MACX,MAAMC,YAAW,GAAI,kCAAiC;MACtD,MAAMC,YAAW,GAAI,6BAA4B;MACjDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAE,qDAAoDJ,YAAa,iBAAgBC,YAAa,qBAAmB;IACzI,CAAC;IAED,MAAMI,KAAK,GAAG;MACZ,MAAMC,KAAI,GAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;MAC7C,IAAIF,KAAI,IAAK,IAAI,EAAE;QACf,IAAI;UAAEZ;QAAK,IAAI,MAAMF,KAAK,CAACiB,IAAI,CAAC,6CAA6C,EAAEH,KAAK,EAAE;UAACI,OAAO,EAAE;YAAC,cAAc,EAAE;UAAY;QAAC,CAAC,CAAC;QAChI,IAAIhB,IAAI,CAACiB,UAAS,IAAK,WAAW,EAAE;UAChCC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,KAAI,GAAI,MAAM;QACrD,OAAO;UACHF,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,KAAI,GAAIpB,IAAI,CAACqB,QAAO,GAAI,QAAQ;QACvE;MACJ;IACF;EACF,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACX,KAAK,EAAC;EACb;AACF","names":["axios","name","data","user_email","user_nickname","methods","login","alert","REST_API_KEY","REDIRECT_URI","window","location","href","start","token","sessionStorage","getItem","post","headers","validation","document","getElementById","value","nickname","created"],"sourceRoot":"","sources":["C:\\Users\\SSAFY\\Desktop\\git archive\\S08P12D208\\frontend\\src\\views\\accounts\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div id=\"login\">\r\n    <div>\r\n      <p>계정과 비밀번호 입력없이</p>\r\n      <p>카카오톡으로 로그인 해 보세요.</p>\r\n    </div>\r\n    <br>\r\n    <img src=\"@/assets/kakao_login.png\" alt=\"kakao login\" @click=\"login\">\r\n\r\n    <div>\r\n      <span>로그인 여부</span>\r\n      <input id=\"islogin\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  data() {\r\n    return {\r\n      user_email: '',\r\n      user_nickname: '',\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      alert(\"로그인\")\r\n      const REST_API_KEY = \"9733352823239497d6928853e1e59954\"\r\n      const REDIRECT_URI = \"http://localhost:8080/oauth\"\r\n      window.location.href=`https://kauth.kakao.com/oauth/authorize?client_id=${REST_API_KEY}&redirect_uri=${REDIRECT_URI}&response_type=code`\r\n    },\r\n    \r\n    async start() {\r\n      const token = sessionStorage.getItem(\"token\");\r\n      if (token != null) {\r\n          var { data } = await axios.post(\"http://3.34.138.191:9997/kakao/tokenConfirm\", token, {headers: {'Content-Type': 'text/plain'}});\r\n          if (data.validation == \"not_valid\") {\r\n              document.getElementById(\"islogin\").value = \"로그인X\";\r\n          } else {\r\n              document.getElementById(\"islogin\").value = data.nickname + \"님 로그인중\";\r\n          }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.start()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#login {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  /* width: 100vw;\r\n  height: 100vh; */\r\n}\r\np {\r\n  /* font-weight: 700; */\r\n}\r\nimg {\r\n  padding-left: 10%;\r\n  padding-right: 10%;\r\n  max-width: 250px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}